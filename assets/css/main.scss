---
---
@import "minimal-mistakes";

/* Ta couleur de titre personnalisée */
.archive__item-title a,
.page__title a {
  color: #900E83;
}

/* --- CONFIGURATION DE L'IMAGE D'ACCUEIL (HERO) --- */

.page__hero--overlay {
  /* On cale l'image en haut pour ne pas couper les têtes */
  background-position: top center !important;
  /* Hauteur sur grand écran (ordinateur) */
  min-height: 450px !important;
  /* Supprime les marges internes qui pourraient décaler l'image */
  padding: 0 !important;
}

/* Suppression de tout le texte et des boutons sur l'image */
.page__hero-container,
.page__hero-content,
.page__hero--overlay h1,
.page__hero--overlay .page__lead {
  display: none !important;
  visibility: hidden !important;
}

/* --- AJUSTEMENTS POUR MOBILE (Écrans de moins de 768px) --- */
@media (max-width: 40em) {
  .page__hero--overlay {
    /* Comme l'image est très large, on réduit drastiquement la hauteur sur mobile */
    /* Cela permet de voir une plus grande partie de la largeur de la photo */
    min-height: 150px !important;

    /* On s'assure que l'image couvre tout l'espace disponible */
    background-size: cover !important;

    /* On réduit le padding pour gagner de la place */
    padding-top: 0 !important;
    padding-bottom: 0 !important;
  }
}



/* Cible uniquement les pages utilisant le layout splash */
.layout--splash .page__content {
  padding-top: 20px; /* Ajustez la valeur selon l'espace souhaité */
}

/* Optionnel : Ajuster aussi sur mobile si la navbar change de taille */
@media (max-width: 40em) {
  .layout--splash .page__content {
    padding-top: 15px;
  }
}



/* 1. On gère la sidebar */
.sidebar {
  float: right !important;
  width: 20% !important; /* On réduit sa largeur */
  margin-right: 0 !important;
  margin-left: 5% !important;
}

/* 2. On gère le contenu */
.archive, .page {
  float: left !important;
  width: 75% !important; /* On laisse de la place pour la marge */
  padding-left: 0 !important;
  padding-right: 0 !important;
}

/* 3. On nettoie l'espace forcé par le thème */
.initial-content {
  padding-left: 0 !important;
}



/* ==========================================================================
   CONFIGURATION FINALE : LAYOUT CIBLÉ (SINGLE + ARCHIVE)
   ========================================================================== */

/* L'astuce est ici : on englobe TOUT (PC et Mobile) dans ces deux classes.
   Ainsi, la page "Splash" (Accueil) n'est pas touchée. */
.layout--single,
.layout--archive {

  /* --- 1. VERSION ORDINATEUR (Écrans larges > 640px) --- */
  @media (min-width: 40.01em) {

    /* A. LE CONTENEUR PRINCIPAL */
    #main {
      display: block !important;
      max-width: 1280px;
      margin: 0 auto !important; /* Centre le site sur les grands écrans */

      /* On remet de l'air sur les côtés */
      padding-left: 2em !important;
      padding-right: 2em !important;
      box-sizing: border-box !important;
    }

    /* B. LA SIDEBAR à Droite */
    .sidebar {
      float: right !important;
      width: 20% !important;
      margin-right: 0 !important;
      margin-left: 5% !important; /* Espace entre texte et sidebar */
      position: sticky !important;
      top: 2em;
    }

    /* C. LE TEXTE à Gauche */
    .archive, .page {
      float: left !important;
      width: 75% !important;
      padding-right: 0 !important;
    }

    /* Nettoyage marges par défaut */
    .initial-content {
      padding-left: 0 !important;
    }
  }

  /* --- 2. VERSION MOBILE (Écrans < 640px) --- */
  @media (max-width: 40em) {

    /* A. LE CONTENEUR PRINCIPAL */
    #main {
      display: flex !important;
      flex-direction: column !important;
      width: 100% !important;
      padding: 0 !important;
    }

    /* B. LE TEXTE (Article + Liste) -> POSITION 1 */
    .page, article.page, .archive {
      order: 1 !important;
      width: 100% !important;
      float: none !important;
      margin-bottom: 0 !important;
      padding-left: 15px !important;
      padding-right: 15px !important;
      box-sizing: border-box !important;
    }

    /* C. SUGGESTIONS "AIMER AUSSI" -> POSITION 2 */
    .page__related {
      order: 2 !important;
      width: 100% !important;
      margin-top: 2em !important;
      padding-left: 15px !important;
      padding-right: 15px !important;
      box-sizing: border-box !important;
    }

    /* D. LA SIDEBAR -> POSITION 3 */
    .sidebar {
      order: 3 !important;
      width: 100% !important;
      float: none !important;
      position: static !important;

      /* Annulation de la marge gauche du PC */
      margin: 30px 0 0 0 !important;

      padding: 0 !important;
      box-sizing: border-box !important;

      /* GRILLE CÔTE À CÔTE */
      display: grid !important;
      grid-template-columns: 1fr 1fr !important;
      column-gap: 20px !important;
      row-gap: 5px !important;
      grid-template-rows: auto auto auto !important;

      /* --- STYLES VISUELS MOBILE (Imbriqués pour cibler la sidebar) --- */
      img {
        width: 100% !important;
        max-width: 100px !important;
        height: auto !important;
        margin: 0 auto !important;
        display: block !important;
      }

      h3 {
        font-size: 0.85em !important;
        text-align: center !important;
        margin: 5px 0 !important;
        width: 100% !important;
        overflow-wrap: break-word !important;
      }

      p {
        font-size: 0.75em !important;
        text-align: center !important;
        line-height: 1.2 !important;
        width: 100% !important;
        overflow-wrap: break-word !important;
        word-wrap: break-word !important;
        hyphens: auto !important;
      }

      /* --- PLACEMENT MANUEL SYLVIE & VINCENT --- */

      /* Colonne 1 : Sylvie */
      img:nth-of-type(1) { grid-column: 1 !important; grid-row: 1 !important; }
      h3:nth-of-type(1)  { grid-column: 1 !important; grid-row: 2 !important; }
      p:nth-of-type(1)   { grid-column: 1 !important; grid-row: 3 !important; }

      /* Colonne 2 : Vincent */
      img:nth-of-type(2) { grid-column: 2 !important; grid-row: 1 !important; }
      h3:nth-of-type(2)  { grid-column: 2 !important; grid-row: 2 !important; }
      p:nth-of-type(2)   { grid-column: 2 !important; grid-row: 3 !important; }
    }
  }
}
